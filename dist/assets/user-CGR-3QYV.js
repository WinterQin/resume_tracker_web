import{q as s}from"./vendor-C-QY2w59.js";import{a as r}from"./index-43yu0djy.js";const o={login(e){return r.post("/auth/login",e)},register(e){return r.post("/auth/register",e)}},i=s("user",{state:()=>({user:null,token:localStorage.getItem("token")||null}),getters:{isAuthenticated:e=>!!e.token,userProfile:e=>e.user},actions:{async login(e){try{const t=await o.login(e);return this.token=t.token,localStorage.setItem("token",t.token),localStorage.setItem("userInfo",JSON.stringify(t.user)),t}catch(t){throw t}},async register(e){try{return await o.register(e)}catch(t){throw t}},logout(){this.token=null,this.user=null,localStorage.removeItem("token")}}});export{i as u};
